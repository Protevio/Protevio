<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="theme-color" content="#1a1f2e"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Protevio AI — Face Search Engine</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
*{-webkit-tap-highlight-color:transparent}
:root{
  --bg:#1a1f2e;
  --bg-elevated:#232a3d;
  --bg-card:#2a3349;
  --bg-upload:#1e2538;
  --border:#3a4562;
  --border-light:#4a5678;
  --border-dashed:#5b9aff;
  --text:#f8fafc;
  --text-secondary:#d1d5e0;
  --text-muted:#9ca3b8;
  --accent:#5b9aff;
  --accent-light:#85b4ff;
  --accent-glow:rgba(91,154,255,.15);
  --gold:#ffb020;
  --green:#4ade80;
  --purple:#a78bfa;
  --glass:rgba(42,51,73,.6);
  --glass-border:rgba(255,255,255,.08);
}
html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:'Plus Jakarta Sans',system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}

/* Animated gradient background */
.bg-gradient{
  position:fixed;
  inset:0;
  background:
    radial-gradient(ellipse 60% 50% at 20% 20%, rgba(91,154,255,.12) 0%, transparent 50%),
    radial-gradient(ellipse 50% 40% at 80% 80%, rgba(167,139,250,.08) 0%, transparent 50%),
    radial-gradient(ellipse 40% 30% at 50% 50%, rgba(74,222,128,.05) 0%, transparent 50%);
  pointer-events:none;
  z-index:0;
  animation:gradientShift 15s ease-in-out infinite;
}
@keyframes gradientShift{
  0%,100%{opacity:1;transform:scale(1)}
  50%{opacity:.8;transform:scale(1.05)}
}

/* Dot pattern */
.dot-pattern{
  position:fixed;
  inset:0;
  background-image:radial-gradient(rgba(91,154,255,.15) 1px, transparent 1px);
  background-size:32px 32px;
  pointer-events:none;
  z-index:0;
  opacity:.5;
}

/* NAV */
.nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 40px;
  background:rgba(26,31,46,.9);
  backdrop-filter:blur(20px);
  border-bottom:1px solid var(--glass-border);
  position:sticky;
  top:0;
  z-index:100;
}
.nav__logo{
  display:flex;
  align-items:center;
  gap:12px;
  text-decoration:none;
}
.nav__logo-mark{width:36px;height:36px}
.nav__logo-mark svg{width:100%;height:100%}
.nav__logo-text{
  font-family:'Bebas Neue',sans-serif;
  font-size:1.55rem;letter-spacing:.22em;color:var(--text);
}
.nav__links{
  display:flex;
  align-items:center;
  gap:32px;
}
.nav__link{
  font-size:.88rem;
  font-weight:500;
  color:var(--text-muted);
  text-decoration:none;
  transition:color .25s;
  position:relative;
}
.nav__link:hover{color:var(--text)}
.nav__link--active{color:var(--text)}
.nav__link--active::after{
  content:'';
  position:absolute;
  bottom:-4px;
  left:0;
  right:0;
  height:2px;
  background:linear-gradient(90deg,var(--accent),var(--purple));
  border-radius:2px;
}
.nav__right{
  display:flex;
  align-items:center;
  gap:12px;
}
.nav__lang{
  display:flex;
  align-items:center;
  gap:6px;
  padding:9px 14px;
  border:1px solid var(--border);
  border-radius:10px;
  font-size:.85rem;
  font-weight:500;
  color:var(--text-secondary);
  background:var(--glass);
  backdrop-filter:blur(10px);
  cursor:pointer;
  transition:all .25s;
}
.nav__lang:hover{
  border-color:var(--border-light);
  background:var(--bg-card);
  transform:translateY(-1px);
}
.nav__lang svg{width:16px;height:16px;opacity:.7}
.nav__login{
  padding:9px 20px;
  font-size:.85rem;
  font-weight:600;
  color:white;
  background:linear-gradient(135deg,var(--accent) 0%,#7c6aff 100%);
  border:none;
  border-radius:10px;
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:6px;
  transition:all .25s;
  box-shadow:0 4px 16px rgba(91,154,255,.35);
  position:relative;
  overflow:hidden;
}
.nav__login::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,.15) 0%,transparent 50%);
}
.nav__login:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 24px rgba(91,154,255,.45);
}
.nav__login svg{width:12px;height:12px;stroke:currentColor;stroke-width:2.5;fill:none;position:relative;z-index:1}
.nav__login span{position:relative;z-index:1}

/* HERO */
.hero{
  display:grid;
  grid-template-columns:1.1fr 1fr;
  gap:50px;
  max-width:1320px;
  margin:0 auto;
  padding:36px 48px 30px;
  align-items:center;
  position:relative;
  z-index:1;
  min-height:calc(100vh - 65px);
}
.hero__content{
  animation:fadeUp .6s ease-out;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(24px)}
  to{opacity:1;transform:translateY(0)}
}
.hero__badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 14px 6px 8px;
  background:var(--glass);
  backdrop-filter:blur(10px);
  border:1px solid var(--glass-border);
  border-radius:100px;
  font-size:.75rem;
  font-weight:600;
  color:var(--accent-light);
  margin-bottom:16px;
  text-transform:uppercase;
  letter-spacing:.04em;
}
.hero__badge-dot{
  width:8px;
  height:8px;
  background:var(--green);
  border-radius:50%;
  animation:pulse 2s ease-in-out infinite;
  box-shadow:0 0 8px var(--green);
}
@keyframes pulse{
  0%,100%{opacity:1;transform:scale(1)}
  50%{opacity:.6;transform:scale(.9)}
}
.hero__title{
  font-size:2.85rem;
  font-weight:800;
  line-height:1.1;
  letter-spacing:-.03em;
  margin-bottom:14px;
}
.hero__title span{
  background:linear-gradient(135deg,var(--gold) 0%,#ff9500 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.hero__desc{
  font-size:.95rem;
  line-height:1.65;
  color:var(--text-secondary);
  max-width:480px;
  margin-bottom:24px;
}

/* TRUST INDICATORS */
.trust-row{
  display:flex;
  align-items:center;
  gap:20px;
  margin-bottom:24px;
  flex-wrap:wrap;
}
.trust-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 14px 8px 8px;
  background:var(--glass);
  backdrop-filter:blur(10px);
  border:1px solid var(--glass-border);
  border-radius:12px;
  transition:all .25s;
}
.trust-item:hover{
  transform:translateY(-2px);
  border-color:var(--border-light);
  box-shadow:0 8px 24px rgba(0,0,0,.2);
}
.trust-item__icon{
  width:36px;
  height:36px;
  background:var(--bg-card);
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.trust-item__icon svg{
  width:18px;
  height:18px;
  stroke-width:2;
  fill:none;
}
.trust-item__icon--blue svg{stroke:var(--accent)}
.trust-item__icon--green svg{stroke:var(--green)}
.trust-item__icon--gold svg{stroke:var(--gold)}
.trust-item__text{
  font-size:.9rem;
  font-weight:700;
  color:var(--text);
}
.trust-item__sub{
  font-size:.7rem;
  color:var(--text-muted);
  text-transform:uppercase;
  letter-spacing:.03em;
}

/* UPLOAD ZONE */
.upload-zone{
  background:var(--glass);
  backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:20px;
  padding:24px;
  animation:fadeUp .6s ease-out .1s both;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  position:relative;
  overflow:hidden;
}
.upload-zone::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:1px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);
}
.upload-box{
  border:2px dashed var(--border-dashed);
  border-radius:14px;
  background:var(--bg-upload);
  padding:32px 28px;
  text-align:center;
  cursor:pointer;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  position:relative;
  overflow:hidden;
}
.upload-box::before{
  content:'';
  position:absolute;
  inset:0;
  background:radial-gradient(circle at center,var(--accent-glow) 0%,transparent 70%);
  opacity:0;
  transition:opacity .3s;
}
.upload-box::after{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(91,154,255,.05) 0%,transparent 50%);
  opacity:0;
  transition:opacity .3s;
}
.upload-box:hover{
  border-color:var(--accent-light);
  background:rgba(91,154,255,.08);
  transform:translateY(-3px);
  box-shadow:0 12px 32px rgba(91,154,255,.15);
}
.upload-box:hover::before{opacity:1}
.upload-box:hover::after{opacity:1}
.upload-box:hover .upload-icon svg{
  transform:scale(1.08);
}
.upload-icon{
  width:52px;
  height:52px;
  margin:0 auto 14px;
  position:relative;
  z-index:1;
}
.upload-icon svg{
  width:100%;
  height:100%;
  stroke:var(--accent);
  stroke-width:1.5;
  fill:none;
  transition:transform .3s;
}
.upload-text{
  font-size:1rem;
  font-weight:600;
  color:var(--accent-light);
  margin-bottom:4px;
  position:relative;
  z-index:1;
}
.upload-subtext{
  font-size:.95rem;
  font-weight:600;
  color:var(--accent);
  margin-bottom:6px;
  position:relative;
  z-index:1;
}
.upload-hint{
  font-size:.8rem;
  color:var(--text-muted);
  position:relative;
  z-index:1;
  margin-bottom:8px;
}
.upload-shortcut{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.75rem;
  color:var(--text-muted);
  position:relative;
  z-index:1;
}
.upload-shortcut kbd{
  padding:3px 7px;
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:5px;
  font-family:inherit;
  font-size:.7rem;
  font-weight:600;
  color:var(--text-secondary);
}

/* ACTION BUTTONS */
.action-buttons{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:14px;
}
.action-btn{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:12px 16px;
  background:var(--bg-elevated);
  border:1px solid var(--border);
  border-radius:12px;
  font-family:inherit;
  font-size:.85rem;
  font-weight:500;
  color:var(--text-secondary);
  cursor:pointer;
  transition:all .25s;
  position:relative;
  overflow:hidden;
}
.action-btn::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,.03) 0%,transparent 50%);
  opacity:0;
  transition:opacity .25s;
}
.action-btn:hover{
  border-color:var(--border-light);
  color:var(--text);
  background:var(--bg-card);
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(0,0,0,.15);
}
.action-btn:hover::before{opacity:1}
.action-btn svg{
  width:18px;
  height:18px;
  stroke:currentColor;
  stroke-width:1.5;
  fill:none;
  transition:transform .25s;
}
.action-btn:hover svg{transform:scale(1.1)}

/* SECURITY BADGES */
.security-row{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:16px;
  margin-top:16px;
  padding-top:14px;
  border-top:1px solid var(--border);
}
.security-badge{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:.72rem;
  color:var(--text-muted);
  text-transform:uppercase;
  letter-spacing:.03em;
}
.security-badge svg{
  width:14px;
  height:14px;
  stroke:var(--green);
  stroke-width:2;
  fill:none;
}

/* ILLUSTRATION */
.hero__illustration{
  position:relative;
  animation:fadeUp .6s ease-out .15s both;
}
.illustration-container{
  position:relative;
  width:100%;
  aspect-ratio:1.1;
  max-width:480px;
  margin:0 auto;
}

/* Phone with scanning effect */
.phone{
  position:absolute;
  top:8%;
  left:8%;
  width:135px;
  background:var(--glass);
  backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:20px;
  padding:12px;
  box-shadow:0 24px 60px rgba(0,0,0,.45);
  z-index:20;
  animation:float 5s ease-in-out infinite;
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-12px)}
}
.phone__notch{
  width:40%;
  height:5px;
  background:var(--bg);
  border-radius:4px;
  margin:0 auto 10px;
}
.phone__face-main{
  width:100%;
  aspect-ratio:1;
  background:linear-gradient(135deg,var(--accent) 0%,var(--purple) 100%);
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-bottom:10px;
  position:relative;
  overflow:hidden;
}
/* Scanning line effect */
.phone__face-main::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:3px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent);
  animation:scan 2s ease-in-out infinite;
}
@keyframes scan{
  0%{top:0;opacity:0}
  10%{opacity:1}
  90%{opacity:1}
  100%{top:100%;opacity:0}
}
.phone__face-main::after{
  content:'';
  position:absolute;
  inset:8px;
  border:2px solid rgba(255,255,255,.2);
  border-radius:8px;
}
.phone__face-icon{
  width:48px;
  height:48px;
  background:rgba(255,255,255,.2);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.phone__face-icon::after{
  content:'';
  position:absolute;
  inset:-4px;
  border:2px solid rgba(255,255,255,.3);
  border-radius:50%;
  animation:pingRing 2s ease-out infinite;
}
@keyframes pingRing{
  0%{transform:scale(1);opacity:.5}
  100%{transform:scale(1.4);opacity:0}
}
.phone__face-icon svg{
  width:26px;
  height:26px;
}
.phone__match-label{
  font-size:.65rem;
  font-weight:600;
  color:var(--green);
  text-align:center;
  margin-bottom:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:4px;
}
.phone__match-label svg{
  width:10px;
  height:10px;
  stroke:currentColor;
  stroke-width:2.5;
  fill:none;
}
.phone__faces-row{
  display:flex;
  gap:6px;
}
.phone__face-thumb{
  flex:1;
  aspect-ratio:1;
  background:var(--bg);
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:hidden;
}
.phone__face-thumb::after{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(91,154,255,.2) 0%,transparent 50%);
}
.phone__face-thumb svg{
  width:18px;
  height:18px;
  stroke:var(--text-muted);
  stroke-width:1.5;
  fill:none;
}

/* Floating elements */
.float-element{
  position:absolute;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:50%;
  box-shadow:0 8px 28px rgba(0,0,0,.35);
  transition:transform .3s;
}
.float-element:hover{transform:scale(1.1) !important}
.float-element--sun{
  top:2%;
  right:20%;
  width:48px;
  height:48px;
  background:linear-gradient(135deg,var(--gold) 0%,#ff9500 100%);
  box-shadow:0 0 36px rgba(255,176,32,.45);
  animation:float 4s ease-in-out infinite;
  animation-delay:-.5s;
}
.float-element--shield{
  top:35%;
  right:5%;
  width:44px;
  height:44px;
  background:var(--glass);
  backdrop-filter:blur(10px);
  border:2px solid var(--green);
  animation:float 5s ease-in-out infinite;
  animation-delay:-1s;
}
.float-element--shield svg{
  width:20px;
  height:20px;
  stroke:var(--green);
  stroke-width:2;
  fill:none;
}
.float-element--search{
  bottom:28%;
  left:2%;
  width:42px;
  height:42px;
  background:var(--glass);
  backdrop-filter:blur(10px);
  border:2px solid var(--purple);
  animation:float 4.5s ease-in-out infinite;
  animation-delay:-1.5s;
}
.float-element--search svg{
  width:18px;
  height:18px;
  stroke:var(--purple);
  stroke-width:2;
  fill:none;
}

/* Stats badges - Glassmorphism */
.stats-badge{
  position:absolute;
  background:var(--glass);
  backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:14px;
  padding:12px 16px;
  display:flex;
  align-items:center;
  gap:12px;
  font-size:.8rem;
  font-weight:600;
  box-shadow:0 12px 36px rgba(0,0,0,.35);
  z-index:25;
  transition:transform .3s,box-shadow .3s;
}
.stats-badge:hover{
  transform:translateY(-4px) !important;
  box-shadow:0 16px 48px rgba(0,0,0,.4);
}
.stats-badge--faces{
  bottom:22%;
  left:-2%;
  animation:float 5s ease-in-out infinite;
  animation-delay:-2s;
}
.stats-badge--speed{
  top:18%;
  right:-2%;
  animation:float 4.5s ease-in-out infinite;
  animation-delay:-3s;
}
.stats-badge__icon{
  width:36px;
  height:36px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.stats-badge__icon--blue{background:rgba(91,154,255,.2)}
.stats-badge__icon--green{background:rgba(74,222,128,.2)}
.stats-badge__icon svg{
  width:18px;
  height:18px;
  stroke:currentColor;
  stroke-width:2;
  fill:none;
}
.stats-badge__icon--blue svg{color:var(--accent-light)}
.stats-badge__icon--green svg{color:var(--green)}
.stats-badge__text{color:var(--text);font-weight:700;font-size:.95rem}
.stats-badge__value{color:var(--text-muted);font-weight:500;font-size:.72rem;text-transform:uppercase;letter-spacing:.02em}

/* Character - Looking at phone */
.character{
  position:absolute;
  bottom:3%;
  right:6%;
  width:54%;
  z-index:10;
  filter:drop-shadow(0 20px 40px rgba(0,0,0,.3));
}

/* Clouds */
.cloud{
  position:absolute;
  background:var(--bg-card);
  border-radius:20px;
  opacity:.35;
}
.cloud--1{
  top:22%;
  right:2%;
  width:65px;
  height:24px;
}
.cloud--2{
  top:48%;
  right:28%;
  width:45px;
  height:18px;
}

/* Connection arcs */
.arc{
  position:absolute;
  border:1px dashed var(--border-light);
  border-radius:50%;
  opacity:.25;
}
.arc--1{
  top:5%;
  left:15%;
  width:180px;
  height:180px;
}
.arc--2{
  top:18%;
  left:28%;
  width:120px;
  height:120px;
}

/* RESPONSIVE */
@media(max-width:1100px){
  .hero{
    grid-template-columns:1fr;
    gap:40px;
    padding:28px 32px;
    min-height:auto;
  }
  .hero__content{text-align:center}
  .hero__desc{margin-left:auto;margin-right:auto}
  .trust-row{justify-content:center}
  .illustration-container{max-width:340px}
}
@media(max-width:768px){
  .nav{padding:12px 20px}
  
  .hero{padding:20px 16px}
  .hero__title{font-size:1.9rem}
  .hero__badge{font-size:.68rem}
  .action-buttons{grid-template-columns:1fr}
  .trust-row{gap:12px}
  .trust-item{padding:6px 10px 6px 6px}
  .trust-item__icon{width:30px;height:30px}
  .trust-item__text{font-size:.8rem}
  .security-row{flex-wrap:wrap;gap:10px}
}

/* ── Hamburger Menu ── */
.nav__hamburger{
  display:none;
  flex-direction:column;
  gap:5px;
  cursor:pointer;
  padding:10px;
  z-index:110;
  background:none;
  border:none;
  margin-left:auto;
}
.nav__hamburger span{
  display:block;width:22px;height:2.5px;
  background:var(--text);border-radius:2px;
  transition:all .3s ease;
}
.nav__hamburger.active span:nth-child(1){transform:translateY(7.5px) rotate(45deg)}
.nav__hamburger.active span:nth-child(2){opacity:0}
.nav__hamburger.active span:nth-child(3){transform:translateY(-7.5px) rotate(-45deg)}

.nav__mobile-overlay{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.5);backdrop-filter:blur(4px);z-index:98;
}
.nav__mobile-overlay.active{display:block}

.nav__mobile-menu{
  position:fixed;top:0;right:-100%;
  width:280px;max-width:80vw;height:100vh;height:100dvh;
  background:var(--bg);
  border-left:1px solid var(--glass-border);
  padding:80px 32px 32px;
  z-index:99;
  transition:right .35s cubic-bezier(.4,0,.2,1);
  overflow-y:auto;
  display:none;
}
.nav__mobile-menu.active{right:0}

.nav__mobile-menu .mobile-link{
  display:block;padding:16px 0;
  font-size:1.1rem;font-weight:600;
  color:var(--text-muted);text-decoration:none;
  border-bottom:1px solid var(--glass-border);
  transition:color .2s;
}
.nav__mobile-menu .mobile-link:hover,
.nav__mobile-menu .mobile-link--active{color:var(--accent)}

.nav__mobile-menu .mobile-login{
  display:flex;align-items:center;justify-content:center;gap:8px;
  margin-top:24px;padding:16px;
  background:linear-gradient(135deg,var(--accent),var(--purple));
  color:#fff;border-radius:12px;text-decoration:none;
  font-size:1rem;font-weight:600;
  box-shadow:0 4px 16px rgba(91,154,255,.35);
}

@media(max-width:768px){
  .nav__hamburger{display:flex}
  .nav__mobile-menu{display:block}
  .nav__links{display:none !important}
  .nav__lang{display:none !important}
  .nav__login{display:none !important}
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>
<body>

<div class="bg-gradient"></div>
<div class="dot-pattern"></div>

<!-- NAV -->
<nav class="nav">
  <a href="testhomepage.html" class="nav__logo">
    <div class="nav__logo-mark">
      <svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
        <polygon points="18,2 33,10 33,26 18,34 3,26 3,10" stroke="url(#hexGrad)" stroke-width="1.4" fill="none"/>
        <circle cx="18" cy="18" r="5.5" fill="url(#hexGrad)" opacity=".9"/>
        <circle cx="18" cy="18" r="2" fill="#050608"/>
        <defs>
          <linearGradient id="hexGrad" x1="0" y1="0" x2="36" y2="36">
            <stop offset="0%" stop-color="#00e5ff"/>
            <stop offset="100%" stop-color="#7c4dff"/>
          </linearGradient>
        </defs>
      </svg>
    </div>
    <span class="nav__logo-text">PROTEVIO</span>
  </a>
  <div class="nav__links">
    <a href="testhomepage.html" class="nav__link nav__link--active">Home</a>
    <a href="about.html" class="nav__link">About</a>
    <a href="faq.html" class="nav__link">FAQ</a>
    <a href="contact.html" class="nav__link">Contact</a>
  </div>
  <div class="nav__right">
    <button class="nav__lang">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
      EN
    </button>
    <a href="login.html" class="nav__login" id="navAuth">
      <span>Log In</span>
      <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </a>
  </div>
  <button class="nav__hamburger" aria-label="Menu"><span></span><span></span><span></span></button>
</nav>
<div class="nav__mobile-overlay"></div>
<div class="nav__mobile-menu">
    <a href="testhomepage.html" class="mobile-link mobile-link--active">Home</a>
    <a href="about.html" class="mobile-link">About</a>
    <a href="faq.html" class="mobile-link">FAQ</a>
    <a href="contact.html" class="mobile-link">Contact</a>
    <a href="login.html" class="mobile-login" id="mobileAuth">Log In</a>
</div>


<!-- HERO -->
<section class="hero">
  <div class="hero__content">
    <div class="hero__badge">
      <span class="hero__badge-dot"></span>
      Trusted by Professionals Worldwide
    </div>
    <h1 class="hero__title">
      Face Search and Reverse<br>
      <span>Image Search Engine</span>
    </h1>
    <p class="hero__desc">
      Find where your face or images appear online. Track unauthorized use, monitor new matches, and protect your identity with our industry-leading facial recognition technology.
    </p>
    
    <!-- TRUST INDICATORS -->
    <div class="trust-row">
      <div class="trust-item">
        <div class="trust-item__icon trust-item__icon--blue">
          <svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div>
          <div class="trust-item__text">1M+ Faces</div>
          <div class="trust-item__sub">Indexed</div>
        </div>
      </div>
      <div class="trust-item">
        <div class="trust-item__icon trust-item__icon--green">
          <svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
        </div>
        <div>
          <div class="trust-item__text">&lt;1 Second</div>
          <div class="trust-item__sub">Search Time</div>
        </div>
      </div>
      <div class="trust-item">
        <div class="trust-item__icon trust-item__icon--gold">
          <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        </div>
        <div>
          <div class="trust-item__text">99.7%</div>
          <div class="trust-item__sub">Accuracy</div>
        </div>
      </div>
    </div>
    
    <!-- UPLOAD ZONE -->
    <div class="upload-zone" id="uploadZone">
      <input type="file" id="fileInput" accept="image/*" multiple style="display:none" max="5">
      <div class="upload-box" id="uploadBox">
        <div class="upload-icon">
          <svg viewBox="0 0 52 52">
            <rect x="6" y="10" width="36" height="28" rx="3" stroke-width="2"/>
            <circle cx="17" cy="22" r="4"/>
            <path d="M6 32l10-8 6 5 10-8 10 7"/>
            <circle cx="44" cy="10" r="7" fill="#5b9aff" stroke="none"/>
            <path d="M44 7v6M41 10h6" stroke="white" stroke-width="2"/>
          </svg>
        </div>
        <p class="upload-text">Click to Upload Photos or</p>
        <p class="upload-subtext">Drop / Paste It Here</p>
        <p class="upload-hint">You can select up to 5 files at once</p>
        <div class="upload-shortcut">
          <kbd>Ctrl</kbd> + <kbd>V</kbd> to paste from clipboard
        </div>
      </div>

      <!-- SEARCH STATUS (hidden by default) -->
      <div id="searchStatus" style="display:none;text-align:center;padding:32px 24px;">
        <div style="width:48px;height:48px;margin:0 auto 16px;border:3px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;"></div>
        <p style="font-size:1.1rem;font-weight:600;color:var(--text);" id="statusText">Analyzing face...</p>
        <p style="font-size:.85rem;color:var(--text-muted);margin-top:8px;" id="statusSub">Searching 1M+ faces</p>
      </div>

      <!-- STEP 2: FACE SELECTION (hidden by default) -->
      <div id="faceSelection" style="display:none;padding:24px;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
          <h3 style="font-size:1.15rem;font-weight:700;color:var(--text);">Select a Face to Search</h3>
          <button id="backToUpload" class="step-back-btn">← Back</button>
        </div>
        <p style="font-size:.85rem;color:var(--text-muted);margin-bottom:20px;">We detected the following faces. Tap one to search for it.</p>
        <div id="faceGrid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:12px;"></div>
        <button id="searchSelectedBtn" class="step-next-btn" disabled style="margin-top:20px;width:100%;">
          <svg viewBox="0 0 24 24" style="width:18px;height:18px;stroke:currentColor;stroke-width:2;fill:none;vertical-align:middle;margin-right:6px;"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
          Select a face to continue
        </button>
      </div>

      <!-- STEP 3: TERMS AGREEMENT (hidden by default) -->
      <div id="termsStep" style="display:none;padding:24px;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
          <h3 style="font-size:1.15rem;font-weight:700;color:var(--text);">Before We Search</h3>
          <button id="backToFaces" class="step-back-btn">← Back</button>
        </div>
        <div style="background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:20px;margin-bottom:20px;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;">
            <div id="termsPreview" style="width:56px;height:56px;border-radius:12px;overflow:hidden;flex-shrink:0;border:2px solid var(--accent);"><img style="width:100%;height:100%;object-fit:cover;"></div>
            <div>
              <p style="font-size:.95rem;font-weight:600;color:var(--text);">Searching for this face</p>
              <p style="font-size:.8rem;color:var(--text-muted);" id="termsDetection">Age ~25 · Female</p>
            </div>
          </div>
          <div style="font-size:.82rem;color:var(--text-secondary);line-height:1.7;max-height:160px;overflow-y:auto;padding-right:8px;">
            <p style="margin-bottom:10px;">By proceeding with this search, you acknowledge and agree to the following:</p>
            <p style="margin-bottom:8px;">• You confirm that you have a <strong style="color:var(--text);">legitimate reason</strong> for conducting this facial recognition search and that you are not using it for stalking, harassment, or any unlawful purpose.</p>
            <p style="margin-bottom:8px;">• You understand that search results are generated using <strong style="color:var(--text);">AI-based facial similarity matching</strong> and may include false positives. Results do not confirm identity.</p>
            <p style="margin-bottom:8px;">• You agree to comply with our <a href="/terms-of-service" target="_blank" style="color:var(--accent);">Terms of Service</a> and <a href="/privacy-policy" target="_blank" style="color:var(--accent);">Privacy Policy</a>, including all applicable laws regarding biometric data (GDPR, BIPA).</p>
            <p>• Your uploaded image will be <strong style="color:var(--text);">processed temporarily</strong> and not stored permanently on our servers.</p>
          </div>
        </div>
        <label style="display:flex;align-items:center;gap:12px;cursor:pointer;padding:14px 16px;background:var(--bg-card);border:1px solid var(--border);border-radius:12px;margin-bottom:16px;transition:border-color .2s;" id="termsLabel">
          <input type="checkbox" id="termsCheckbox" style="width:20px;height:20px;accent-color:var(--accent);cursor:pointer;">
          <span style="font-size:.9rem;color:var(--text-secondary);">I agree to the Terms of Service and Privacy Policy</span>
        </label>
        <button id="agreeSearchBtn" class="step-next-btn" disabled style="width:100%;background:linear-gradient(135deg,#4ade80,#22c55e);">
          <svg viewBox="0 0 24 24" style="width:18px;height:18px;stroke:currentColor;stroke-width:2;fill:none;vertical-align:middle;margin-right:6px;"><path d="M9 12l2 2 4-4"/><circle cx="12" cy="12" r="10"/></svg>
          Agree & Search
        </button>
      </div>

      <!-- STEP 4: SEARCH RESULTS (hidden by default) -->
      <div id="searchResults" style="display:none;padding:24px;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
          <h3 style="font-size:1.2rem;font-weight:700;color:var(--text);">Search Results</h3>
          <button id="newSearchBtn" class="step-back-btn">New Search</button>
        </div>
        <div id="resultsList" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:12px;"></div>
        <p id="noResults" style="display:none;text-align:center;color:var(--text-muted);padding:24px;font-size:.95rem;">No matching faces found. Try a different photo.</p>
        <!-- UPGRADE OVERLAY for free tier -->
        <div id="upgradeOverlay" style="display:none;margin-top:24px;background:linear-gradient(135deg,rgba(91,154,255,.1),rgba(167,139,250,.1));border:1px solid rgba(91,154,255,.3);border-radius:16px;padding:28px;text-align:center;">
          <svg viewBox="0 0 24 24" style="width:40px;height:40px;stroke:var(--accent);stroke-width:1.5;fill:none;margin-bottom:12px;"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
          <h4 style="font-size:1.1rem;font-weight:700;margin-bottom:8px;">Unlock Full Results</h4>
          <p style="font-size:.88rem;color:var(--text-muted);margin-bottom:20px;line-height:1.6;">Free accounts see blurred previews. Upgrade to reveal full results with source links and high-resolution images.</p>
          <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
            <a href="/dashboard" class="upgrade-btn" style="background:linear-gradient(135deg,var(--accent),var(--purple));">Upgrade Plan</a>
            <button class="upgrade-btn" id="unlockOnceBtn" style="background:linear-gradient(135deg,var(--gold),#f59e0b);">Unlock This Search — €15</button>
          </div>
        </div>
      </div>
      
      <div class="action-buttons" id="actionButtons">
        <button class="action-btn">
          <svg viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 2v2M12 20v2M2 12h2M20 12h2"/>
          </svg>
          Use camera for photos
        </button>
        <button class="action-btn">
          <svg viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 16v-4M12 8h.01"/>
          </svg>
          How to use Protevio?
        </button>
      </div>
      
      <!-- SECURITY BADGES -->
      <div class="security-row">
        <div class="security-badge">
          <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M9 12l2 2 4-4"/></svg>
          GDPR Compliant
        </div>
        <div class="security-badge">
          <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          256-bit Encryption
        </div>
        <div class="security-badge">
          <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          Privacy Protected
        </div>
      </div>
    </div>
  </div>
  
  <!-- ILLUSTRATION -->
  <div class="hero__illustration">
    <div class="illustration-container">
      <!-- Connection arcs -->
      <div class="arc arc--1"></div>
      <div class="arc arc--2"></div>
      
      <!-- Floating sun -->
      <div class="float-element float-element--sun"></div>
      
      <!-- Shield -->
      <div class="float-element float-element--shield">
        <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      </div>
      
      <!-- Search icon -->
      <div class="float-element float-element--search">
        <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
      </div>
      
      <!-- Clouds -->
      <div class="cloud cloud--1"></div>
      <div class="cloud cloud--2"></div>
      
      <!-- Phone with scanning effect -->
      <div class="phone">
        <div class="phone__notch"></div>
        <div class="phone__face-main">
          <div class="phone__face-icon">
            <svg viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="9.5" r="3.2" stroke="white" stroke-width="1.8"/>
              <path d="M6.8 19.5c0-2.9 2.3-5.2 5.2-5.2s5.2 2.3 5.2 5.2" stroke="white" stroke-width="1.8" stroke-linecap="round"/>
              <path d="M4.5 8.5V5.5Q4.5 4 6 4h3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".65"/>
              <path d="M19.5 8.5V5.5Q19.5 4 18 4h-3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".65"/>
              <path d="M4.5 16v3Q4.5 20.5 6 20.5h3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".65"/>
              <path d="M19.5 16v3Q19.5 20.5 18 20.5h-3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".65"/>
            </svg>
          </div>
        </div>
        <div class="phone__match-label">
          <svg viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
          3 Matches Found
        </div>
        <div class="phone__faces-row">
          <div class="phone__face-thumb">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="3"/><path d="M6 18c0-3 3-5 6-5s6 2 6 5"/></svg>
          </div>
          <div class="phone__face-thumb">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="3"/><path d="M6 18c0-3 3-5 6-5s6 2 6 5"/></svg>
          </div>
          <div class="phone__face-thumb">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="3"/><path d="M6 18c0-3 3-5 6-5s6 2 6 5"/></svg>
          </div>
        </div>
      </div>
      
      <!-- Stats badges -->
      <div class="stats-badge stats-badge--faces">
        <div class="stats-badge__icon stats-badge__icon--blue">
          <svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div>
          <div class="stats-badge__text">1M+</div>
          <div class="stats-badge__value">Indexed Faces</div>
        </div>
      </div>
      
      <div class="stats-badge stats-badge--speed">
        <div class="stats-badge__icon stats-badge__icon--green">
          <svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
        </div>
        <div>
          <div class="stats-badge__text">&lt;1 sec</div>
          <div class="stats-badge__value">Search Speed</div>
        </div>
      </div>
      
      <!-- Character - Looking at phone -->
      <svg class="character" viewBox="0 0 200 280" fill="none">
        <!-- Shadow -->
        <ellipse cx="100" cy="268" rx="38" ry="7" fill="rgba(0,0,0,.2)"/>
        
        <!-- Legs -->
        <path d="M82 218 L78 256" stroke="#9ca3b8" stroke-width="11" stroke-linecap="round"/>
        <path d="M118 218 L122 256" stroke="#9ca3b8" stroke-width="11" stroke-linecap="round"/>
        
        <!-- Shoes -->
        <ellipse cx="76" cy="258" rx="12" ry="6" fill="#2a3349"/>
        <ellipse cx="124" cy="258" rx="12" ry="6" fill="#2a3349"/>
        
        <!-- Torso - Professional shirt -->
        <path d="M62 128 Q60 175 70 218 L130 218 Q140 175 138 128 Z" fill="#5b9aff"/>
        <!-- Shirt highlight -->
        <path d="M62 128 Q60 175 70 218 L85 218 Q78 175 80 128 Z" fill="rgba(255,255,255,.1)"/>
        
        <!-- Collar -->
        <path d="M85 128 L100 145 L115 128" stroke="#4a8af0" stroke-width="3" fill="none"/>
        
        <!-- Arms -->
        <path d="M62 138 Q32 148 28 178 Q24 198 42 202" stroke="#f0c8b8" stroke-width="12" stroke-linecap="round" fill="none"/>
        <path d="M138 138 Q165 130 172 102 Q178 82 168 72" stroke="#f0c8b8" stroke-width="12" stroke-linecap="round" fill="none"/>
        
        <!-- Hand with phone -->
        <rect x="158" y="55" width="28" height="48" rx="5" fill="#232a3d" stroke="#5b9aff" stroke-width="2"/>
        <rect x="162" y="61" width="20" height="36" rx="2" fill="#1a1f2e"/>
        <circle cx="172" cy="79" r="6" fill="#5b9aff" opacity=".4"/>
        <path d="M169 79 L175 79" stroke="#5b9aff" stroke-width="1" opacity=".6"/>
        
        <!-- Head - tilted slightly toward phone -->
        <ellipse cx="100" cy="82" rx="40" ry="45" fill="#f0c8b8" transform="rotate(-3 100 82)"/>
        
        <!-- Hair - Professional cut -->
        <path d="M60 68 Q62 28 100 22 Q138 28 140 68 Q138 48 125 43 Q100 36 75 43 Q62 48 60 68" fill="#3a4562"/>
        
        <!-- Ears -->
        <ellipse cx="60" cy="82" rx="7" ry="10" fill="#f0c8b8"/>
        <ellipse cx="140" cy="80" rx="7" ry="10" fill="#f0c8b8"/>
        
        <!-- Glasses - Professional frames -->
        <rect x="70" y="70" width="24" height="18" rx="3" fill="rgba(255,255,255,.1)" stroke="#2a3349" stroke-width="2.5"/>
        <rect x="106" y="69" width="24" height="18" rx="3" fill="rgba(255,255,255,.1)" stroke="#2a3349" stroke-width="2.5"/>
        <path d="M94 78 L106 77" stroke="#2a3349" stroke-width="2.5"/>
        <path d="M70 77 L60 76" stroke="#2a3349" stroke-width="2.5"/>
        <path d="M130 76 L140 74" stroke="#2a3349" stroke-width="2.5"/>
        
        <!-- Eyes - looking toward phone (right) -->
        <circle cx="84" cy="78" r="3" fill="#2a3349"/>
        <circle cx="120" cy="77" r="3" fill="#2a3349"/>
        <circle cx="85" cy="77" r="1" fill="white"/>
        <circle cx="121" cy="76" r="1" fill="white"/>
        
        <!-- Eyebrows - focused expression -->
        <path d="M72 66 Q82 63 92 66" stroke="#3a4562" stroke-width="2.5" stroke-linecap="round" fill="none"/>
        <path d="M108 65 Q118 62 128 65" stroke="#3a4562" stroke-width="2.5" stroke-linecap="round" fill="none"/>
        
        <!-- Nose -->
        <path d="M100 84 L98 94 L102 94" stroke="#e0b0a0" stroke-width="2" stroke-linecap="round" fill="none"/>
        
        <!-- Slight smile - satisfied/professional -->
        <path d="M92 104 Q100 109 108 104" stroke="#2a3349" stroke-width="2" stroke-linecap="round" fill="none"/>
      </svg>
    </div>
  </div>
</section>


<style>
@keyframes spin{to{transform:rotate(360deg)}}
.upload-box.dragover{border-color:var(--accent)!important;background:var(--accent-glow)!important}
.step-back-btn{background:none;border:1px solid var(--border);color:var(--text-muted);padding:8px 18px;border-radius:10px;font-size:.82rem;font-weight:600;cursor:pointer;transition:all .2s}
.step-back-btn:hover{border-color:var(--border-light);color:var(--text)}
.step-next-btn{background:linear-gradient(135deg,var(--accent),#7c6bf0);color:#fff;border:none;padding:14px 24px;border-radius:12px;font-size:.95rem;font-weight:700;cursor:pointer;transition:all .25s}
.step-next-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px rgba(91,154,255,.3)}
.step-next-btn:disabled{opacity:.4;cursor:not-allowed}
.face-thumb{position:relative;border-radius:14px;overflow:hidden;cursor:pointer;border:3px solid transparent;transition:all .2s;aspect-ratio:1}
.face-thumb img{width:100%;height:100%;object-fit:cover}
.face-thumb:hover{border-color:var(--border-light);transform:scale(1.03)}
.face-thumb.selected{border-color:var(--accent);box-shadow:0 0 20px rgba(91,154,255,.3)}
.face-thumb.selected::after{content:'✓';position:absolute;top:6px;right:6px;width:24px;height:24px;background:var(--accent);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700}
.face-thumb__info{position:absolute;bottom:0;left:0;right:0;padding:6px 8px;background:linear-gradient(transparent,rgba(0,0,0,.8));font-size:.7rem;color:#fff}
/* RESULT CARDS */
.result-card{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;overflow:hidden;transition:all .2s;position:relative;cursor:pointer}
.result-card:hover{transform:translateY(-4px);border-color:var(--accent);box-shadow:0 8px 24px rgba(0,0,0,.3)}
.result-card img{width:100%;aspect-ratio:1;object-fit:cover}
.result-card__info{padding:8px 10px}
.result-card__score{font-size:.75rem;font-weight:600;color:var(--accent)}
.result-card__domain{font-size:.7rem;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
/* BLURRED CARDS for free tier */
.result-card--locked img{filter:blur(16px) saturate(0.5);transform:scale(1.1)}
.result-card--locked .result-card__info{filter:blur(4px)}
.result-card--locked .result-card__lock{display:flex!important}
.result-card__lock{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.6);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.15);padding:8px 16px;border-radius:10px;align-items:center;gap:8px;color:#fff;font-size:.78rem;font-weight:600;z-index:2;white-space:nowrap}
.result-card__lock svg{width:16px;height:16px;stroke:currentColor;stroke-width:2;fill:none}
.result-card__nsfw{position:absolute;top:6px;left:6px;background:rgba(167,139,250,.8);color:#fff;font-size:.6rem;font-weight:700;padding:3px 8px;border-radius:6px;z-index:2;letter-spacing:.04em}
/* UPGRADE */
.upgrade-btn{display:inline-flex;align-items:center;color:#fff;border:none;padding:12px 24px;border-radius:12px;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .2s;text-decoration:none}
.upgrade-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.3)}
#termsLabel:has(input:checked){border-color:var(--accent);background:rgba(91,154,255,.08)}
/* RESULT MODAL */
.result-modal-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(6px);z-index:1000;justify-content:center;align-items:center;padding:20px}
.result-modal-overlay.active{display:flex}
.result-modal{background:var(--bg-elevated);border:1px solid var(--border);border-radius:20px;width:100%;max-width:420px;max-height:90vh;overflow-y:auto;position:relative;animation:modalIn .25s ease}
@keyframes modalIn{from{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.result-modal__close{position:absolute;top:12px;right:12px;width:32px;height:32px;background:rgba(0,0,0,.5);border:none;border-radius:50%;color:#fff;font-size:18px;cursor:pointer;z-index:3;display:flex;align-items:center;justify-content:center;transition:background .2s}
.result-modal__close:hover{background:rgba(0,0,0,.8)}
.result-modal__image{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:20px 20px 0 0}
.result-modal__image--locked{filter:blur(20px) saturate(0.4);transform:scale(1.1)}
.result-modal__nsfw{position:absolute;top:16px;left:16px;background:rgba(167,139,250,.85);color:#fff;font-size:.72rem;font-weight:700;padding:4px 12px;border-radius:8px;letter-spacing:.04em}
.result-modal__domain{position:absolute;bottom:0;left:0;padding:8px 14px;background:rgba(255,255,255,.95);color:#1a1f2e;font-size:.8rem;font-weight:600;border-radius:0 10px 0 0}
.result-modal__actions{padding:8px 0}
.result-modal__action{display:flex;align-items:center;gap:14px;padding:16px 20px;cursor:pointer;transition:background .15s;border:none;background:none;width:100%;text-align:left;color:var(--text)}
.result-modal__action:hover{background:rgba(255,255,255,.05)}
.result-modal__action-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.result-modal__action-icon svg{width:20px;height:20px;stroke-width:2;fill:none}
.result-modal__action-text{flex:1}
.result-modal__action-title{font-size:.9rem;font-weight:600}
.result-modal__action-sub{font-size:.75rem;color:var(--text-muted);margin-top:2px}
.result-modal__action-arrow{color:var(--text-muted);font-size:1.1rem}
.result-modal__action--locked{opacity:.5;cursor:not-allowed}
.result-modal__footer{padding:12px 20px;font-size:.72rem;color:var(--text-muted);border-top:1px solid var(--border)}
</style>
<script>
(function(){
  var h=document.querySelector('.nav__hamburger'),
      m=document.querySelector('.nav__mobile-menu'),
      o=document.querySelector('.nav__mobile-overlay');
  if(!h||!m)return;
  function toggle(){
    h.classList.toggle('active');
    m.classList.toggle('active');
    if(o)o.classList.toggle('active');
    document.body.style.overflow=m.classList.contains('active')?'hidden':'';
  }
  h.addEventListener('click',toggle);
  if(o)o.addEventListener('click',toggle);
  m.querySelectorAll('a').forEach(function(a){a.addEventListener('click',function(){if(m.classList.contains('active'))toggle()})});
})();

// ===== AUTH STATE FOR NAV =====
(function(){
  const token = localStorage.getItem('protevio_token');
  const user = JSON.parse(localStorage.getItem('protevio_user') || 'null');
  const navAuth = document.getElementById('navAuth');
  const mobileAuth = document.getElementById('mobileAuth');
  if(token && user) {
    const name = user.name || user.username || 'Account';
    navAuth.href = 'dashboard.html';
    navAuth.innerHTML = '<span>' + name.split(' ')[0] + '</span><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4" fill="none" stroke="currentColor" stroke-width="2"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6" fill="none" stroke="currentColor" stroke-width="2"/></svg>';
    mobileAuth.href = 'dashboard.html';
    mobileAuth.textContent = name.split(' ')[0];
  }
})();

// ===== PROTEVIO FACE SEARCH =====
const API = 'https://api.protevio.com/api';
const uploadBox = document.getElementById('uploadBox');
const fileInput = document.getElementById('fileInput');
const searchStatus = document.getElementById('searchStatus');
const faceSelection = document.getElementById('faceSelection');
const faceGrid = document.getElementById('faceGrid');
const termsStep = document.getElementById('termsStep');
const searchResults = document.getElementById('searchResults');
const resultsList = document.getElementById('resultsList');
const noResults = document.getElementById('noResults');
const statusText = document.getElementById('statusText');
const statusSub = document.getElementById('statusSub');
const actionButtons = document.getElementById('actionButtons');
const searchSelectedBtn = document.getElementById('searchSelectedBtn');
const agreeSearchBtn = document.getElementById('agreeSearchBtn');
const termsCheckbox = document.getElementById('termsCheckbox');
const upgradeOverlay = document.getElementById('upgradeOverlay');

let detectedFaces = [];
let selectedFaceId = null;
let userPlan = 'free';

// Get user plan
try {
  const u = JSON.parse(localStorage.getItem('protevio_user') || '{}');
  userPlan = u.plan || 'free';
} catch(e){}

function getToken() { return localStorage.getItem('protevio_token'); }

function hideAll() {
  uploadBox.style.display = 'none';
  actionButtons.style.display = 'none';
  searchStatus.style.display = 'none';
  faceSelection.style.display = 'none';
  termsStep.style.display = 'none';
  searchResults.style.display = 'none';
}

function resetSearch() {
  hideAll();
  uploadBox.style.display = '';
  actionButtons.style.display = '';
  resultsList.innerHTML = '';
  noResults.style.display = 'none';
  upgradeOverlay.style.display = 'none';
  fileInput.value = '';
  detectedFaces = [];
  selectedFaceId = null;
  termsCheckbox.checked = false;
  agreeSearchBtn.disabled = true;
}

// ===== STEP 1: UPLOAD =====
uploadBox.addEventListener('click', () => fileInput.click());
fileInput.addEventListener('change', (e) => { if(e.target.files.length) handleFiles(e.target.files); });

uploadBox.addEventListener('dragover', (e) => { e.preventDefault(); uploadBox.classList.add('dragover'); });
uploadBox.addEventListener('dragleave', () => uploadBox.classList.remove('dragover'));
uploadBox.addEventListener('drop', (e) => {
  e.preventDefault();
  uploadBox.classList.remove('dragover');
  if(e.dataTransfer.files.length) handleFiles(e.dataTransfer.files);
});

document.addEventListener('paste', (e) => {
  const items = e.clipboardData.items;
  for(let i=0; i<items.length; i++){
    if(items[i].type.startsWith('image/')){
      handleFiles([items[i].getAsFile()]);
      break;
    }
  }
});

async function handleFiles(files) {
  const token = getToken();
  if(!token) { window.location.href = '/login'; return; }

  const file = files[0];
  if(!file || !file.type.startsWith('image/')) return;

  hideAll();
  searchStatus.style.display = 'block';
  statusText.textContent = 'Detecting faces...';
  statusSub.textContent = 'Analyzing your photo with AI';

  try {
    const formData = new FormData();
    formData.append('file', file);

    const res = await fetch(API + '/upload', {
      method: 'POST',
      headers: {'Authorization': 'Bearer ' + token},
      body: formData
    });

    if(res.status === 401) { window.location.href = '/login'; return; }
    const data = await res.json();

    if(!res.ok || !data.faces || data.faces.length === 0) {
      statusText.textContent = 'No face detected';
      statusSub.textContent = 'Please upload a clear photo with a visible face.';
      setTimeout(resetSearch, 3000);
      return;
    }

    detectedFaces = data.faces;
    showFaceSelection();

  } catch(err) {
    statusText.textContent = 'Connection error';
    statusSub.textContent = 'Please check your connection and try again.';
    setTimeout(resetSearch, 3000);
  }
}

// ===== STEP 2: FACE SELECTION =====
function showFaceSelection() {
  hideAll();
  faceSelection.style.display = 'block';
  faceGrid.innerHTML = '';
  selectedFaceId = null;
  searchSelectedBtn.disabled = true;
  searchSelectedBtn.innerHTML = '<svg viewBox="0 0 24 24" style="width:18px;height:18px;stroke:currentColor;stroke-width:2;fill:none;vertical-align:middle;margin-right:6px;"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg> Select a face to continue';

  detectedFaces.forEach((face, i) => {
    const thumb = document.createElement('div');
    thumb.className = 'face-thumb';
    thumb.dataset.faceId = face.id;

    const info = face.age ? (face.gender + ' · ~' + face.age + 'y') : ('Face ' + (i+1));

    thumb.innerHTML =
      '<img src="' + face.thumbnail + '" alt="Face ' + (i+1) + '">' +
      '<div class="face-thumb__info">' + info + '</div>';

    thumb.addEventListener('click', () => {
      document.querySelectorAll('.face-thumb').forEach(t => t.classList.remove('selected'));
      thumb.classList.add('selected');
      selectedFaceId = face.id;
      searchSelectedBtn.disabled = false;
      searchSelectedBtn.innerHTML = '<svg viewBox="0 0 24 24" style="width:18px;height:18px;stroke:currentColor;stroke-width:2;fill:none;vertical-align:middle;margin-right:6px;"><path d="M5 12h14M12 5l7 7-7 7"/></svg> Continue with this face';
    });

    faceGrid.appendChild(thumb);
  });
}

document.getElementById('backToUpload').addEventListener('click', resetSearch);

searchSelectedBtn.addEventListener('click', () => {
  if(!selectedFaceId) return;
  showTermsStep();
});

// ===== STEP 3: TERMS AGREEMENT =====
function showTermsStep() {
  hideAll();
  termsStep.style.display = 'block';
  termsCheckbox.checked = false;
  agreeSearchBtn.disabled = true;

  const face = detectedFaces.find(f => f.id === selectedFaceId);
  if(face) {
    document.querySelector('#termsPreview img').src = face.thumbnail;
    document.getElementById('termsDetection').textContent =
      (face.gender || '') + (face.age ? ' · ~' + face.age + ' years old' : '') +
      (face.confidence ? ' · ' + Math.round(face.confidence * 100) + '% confidence' : '');
  }
}

document.getElementById('backToFaces').addEventListener('click', showFaceSelection);

termsCheckbox.addEventListener('change', () => {
  agreeSearchBtn.disabled = !termsCheckbox.checked;
});

agreeSearchBtn.addEventListener('click', () => {
  if(!termsCheckbox.checked || !selectedFaceId) return;
  runSearch();
});

// ===== STEP 4: SEARCH =====
async function runSearch() {
  hideAll();
  searchStatus.style.display = 'block';
  statusText.textContent = 'Searching database...';
  statusSub.textContent = 'Comparing against 1M+ indexed faces';

  const token = getToken();

  try {
    const res = await fetch(API + '/search', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer ' + token,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ faces: [selectedFaceId] })
    });

    if(!res.ok) {
      const errData = await res.json();
      statusText.textContent = 'Search failed';
      statusSub.textContent = errData.error || 'Please try again.';
      setTimeout(resetSearch, 3000);
      return;
    }

    // Refresh user plan from /auth/me
    try {
      const meRes = await fetch(API + '/auth/me', { headers: {'Authorization': 'Bearer ' + token} });
      if(meRes.ok) {
        const me = await meRes.json();
        userPlan = me.plan || 'free';
        localStorage.setItem('protevio_user', JSON.stringify(me));
      }
    } catch(e){}

    const searchData = await res.json();
    showResults(searchData);

  } catch(err) {
    statusText.textContent = 'Connection error';
    statusSub.textContent = 'Please check your connection and try again.';
    setTimeout(resetSearch, 3000);
  }
}

let currentResults = [];

function showResults(data) {
  hideAll();
  searchResults.style.display = 'block';

  const matches = data.results || [];
  currentResults = matches;
  const isFree = (userPlan === 'free');

  if(!Array.isArray(matches) || matches.length === 0) {
    noResults.style.display = 'block';
    upgradeOverlay.style.display = 'none';
    return;
  }

  resultsList.innerHTML = '';
  matches.forEach((match, i) => {
    const card = document.createElement('div');
    card.className = 'result-card' + (isFree ? ' result-card--locked' : '');
    const similarity = Math.round(match.similarity || 0);
    const domain = match.domain || '';
    const imgUrl = API + '/image/' + (match.filename || '');

    card.innerHTML =
      '<img src="' + imgUrl + '" alt="Match" onerror="this.src=\'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect fill=%22%232a3349%22 width=%22100%22 height=%22100%22/><text x=%2250%22 y=%2255%22 text-anchor=%22middle%22 fill=%22%239ca3b8%22 font-size=%2212%22>No image</text></svg>\'">' +
      '<div class="result-card__lock"><svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>Tap to see</div>' +
      '<div class="result-card__info">' +
      '<div class="result-card__score">' + similarity + '% match</div>' +
      '<div class="result-card__domain">' + (isFree ? '••••••.com' : domain) + '</div>' +
      '</div>';

    card.addEventListener('click', () => openResultModal(match, isFree));
    resultsList.appendChild(card);
  });

  upgradeOverlay.style.display = isFree ? 'block' : 'none';
}

// ===== RESULT DETAIL MODAL =====
function openResultModal(match, locked) {
  const modal = document.getElementById('resultModal');
  const imgUrl = API + '/image/' + (match.filename || '');
  const domain = match.domain || 'Unknown source';
  const similarity = Math.round(match.similarity || 0);

  document.getElementById('modalImage').src = imgUrl;
  document.getElementById('modalImage').className = 'result-modal__image' + (locked ? ' result-modal__image--locked' : '');
  document.getElementById('modalDomain').textContent = locked ? '••••••.com' : domain;
  document.getElementById('modalSimilarity').textContent = similarity + '% match';
  document.getElementById('modalNsfw').style.display = 'none'; // can enable per-result later

  // Action states based on lock
  const actions = modal.querySelectorAll('.result-modal__action');
  actions.forEach(a => {
    const needsPaid = a.dataset.requiresPaid === 'true';
    if(locked && needsPaid) {
      a.classList.add('result-modal__action--locked');
      a.onclick = (e) => {
        e.preventDefault();
        alert('Upgrade your plan or unlock this search for €15 to access this feature.');
      };
    } else {
      a.classList.remove('result-modal__action--locked');
    }
  });

  // Set up action handlers for unlocked
  document.getElementById('modalOpenWebsite').onclick = () => {
    if(locked) { alert('Upgrade to access source websites.'); return; }
    if(match.url) window.open(match.url, '_blank');
  };
  document.getElementById('modalOpenImage').onclick = () => {
    if(locked) { alert('Upgrade to view full images.'); return; }
    window.open(imgUrl, '_blank');
  };
  document.getElementById('modalSearchThis').onclick = () => {
    modal.querySelector('.result-modal-overlay').classList.remove('active');
    // Re-upload result image as new search
    alert('Reverse search from results coming soon.');
  };
  document.getElementById('modalCopyId').onclick = () => {
    navigator.clipboard.writeText(match.id || '').then(() => {
      const btn = document.getElementById('modalCopyId');
      const orig = btn.querySelector('.result-modal__action-title').textContent;
      btn.querySelector('.result-modal__action-title').textContent = 'Copied!';
      setTimeout(() => btn.querySelector('.result-modal__action-title').textContent = orig, 1500);
    });
  };
  document.getElementById('modalExclude').onclick = () => {
    alert('Exclusion requests will be available soon.\n\nContact support@protevio.com to request removal.');
  };
  document.getElementById('modalShare').onclick = () => {
    if(navigator.share) {
      navigator.share({title:'Protevio AI Result', url: window.location.href});
    } else {
      navigator.clipboard.writeText(window.location.href);
      alert('Link copied to clipboard!');
    }
  };

  document.getElementById('resultModalOverlay').classList.add('active');
}

function closeResultModal() {
  document.getElementById('resultModalOverlay').classList.remove('active');
}

document.getElementById('newSearchBtn').addEventListener('click', resetSearch);

document.getElementById('unlockOnceBtn').addEventListener('click', () => {
  alert('Payment integration coming soon.\n\nFor now, contact admin to upgrade your account.');
});
</script>

<!-- RESULT DETAIL MODAL -->
<div class="result-modal-overlay" id="resultModalOverlay" onclick="if(event.target===this)closeResultModal()">
  <div class="result-modal" id="resultModal">
    <button class="result-modal__close" onclick="closeResultModal()">✕</button>
    <div style="position:relative;overflow:hidden;border-radius:20px 20px 0 0;">
      <div class="result-modal__nsfw" id="modalNsfw" style="display:none">POTENTIALLY EXPLICIT</div>
      <img id="modalImage" class="result-modal__image" src="" alt="Result" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 300%22><rect fill=%22%232a3349%22 width=%22400%22 height=%22300%22/><text x=%22200%22 y=%22155%22 text-anchor=%22middle%22 fill=%22%239ca3b8%22 font-size=%2216%22>Image unavailable</text></svg>'">
      <div class="result-modal__domain" id="modalDomain">domain.com</div>
    </div>
    <div style="padding:12px 20px 4px;font-size:.82rem;font-weight:600;color:var(--accent);" id="modalSimilarity">85% match</div>
    <div class="result-modal__actions">
      <button class="result-modal__action" id="modalOpenWebsite" data-requires-paid="true">
        <div class="result-modal__action-icon" style="background:rgba(91,154,255,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--accent)"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10A15.3 15.3 0 0112 2z"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Open website</div>
          <div class="result-modal__action-sub">Go to the website where this image appears</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
      <button class="result-modal__action" id="modalOpenImage" data-requires-paid="true">
        <div class="result-modal__action-icon" style="background:rgba(91,154,255,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--accent)"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Open image</div>
          <div class="result-modal__action-sub">Access the source image (unblurred version)</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
      <button class="result-modal__action" id="modalSearchThis">
        <div class="result-modal__action-icon" style="background:rgba(91,154,255,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--accent)"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Perform search with this image</div>
          <div class="result-modal__action-sub">Start a new search using this result</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
      <button class="result-modal__action" id="modalCopyId">
        <div class="result-modal__action-icon" style="background:rgba(167,139,250,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--purple)"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Copy Result ID</div>
          <div class="result-modal__action-sub">Copy the ID of this result for further actions</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
      <button class="result-modal__action" id="modalExclude">
        <div class="result-modal__action-icon" style="background:rgba(74,222,128,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--green)"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M9 12l2 2 4-4"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Exclude from public results</div>
          <div class="result-modal__action-sub">Remove this photo from Protevio's search</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
      <button class="result-modal__action" id="modalShare">
        <div class="result-modal__action-icon" style="background:rgba(248,113,113,.15)">
          <svg viewBox="0 0 24 24" stroke="var(--red)"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/></svg>
        </div>
        <div class="result-modal__action-text">
          <div class="result-modal__action-title">Share</div>
          <div class="result-modal__action-sub">Share this result with others</div>
        </div>
        <span class="result-modal__action-arrow">›</span>
      </button>
    </div>
    <div class="result-modal__footer">Powered by Protevio AI · Results generated by facial similarity matching</div>
  </div>
</div>
</body>
</html>
